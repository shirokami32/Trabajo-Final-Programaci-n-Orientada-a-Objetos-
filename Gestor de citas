class GestorCitas {
    private List<Usuario> usuarios = new ArrayList<>();
    private List<Medico> medicos = new ArrayList<>();
    private List<Cita> citas = new ArrayList<>();

    public void registrarUsuario(Usuario usuario) {
        usuarios.add(usuario);
        System.out.println("Usuario registrado: " + usuario.getNombre());
    }

    public void registrarMedico(Medico medico) {
        medicos.add(medico);
        System.out.println("Médico registrado: " + medico.getNombre());
    }

    public void reservarCita(Cita cita) {
        boolean usuarioExiste = usuarios.stream().anyMatch(u -> u.getId().equals(cita.getIdUsuario()));
        boolean medicoExiste = medicos.stream().anyMatch(m -> m.getId().equals(cita.getIdMedico()));

        if (usuarioExiste && medicoExiste) {
            citas.add(cita);
            System.out.println("Cita reservada con éxito. ID de la cita: " + cita.getIdCita());
        } else {
            System.out.println("Usuario o médico no encontrado.");
        }
    }

    public void cancelarCita(String idCita) {
        citas.removeIf(c -> c.getIdCita().equals(idCita));
        System.out.println("Cita cancelada: " + idCita);
    }

    public void mostrarCitas() {
        if (citas.isEmpty()) {
            System.out.println("No hay citas registradas.");
        } else {
            citas.forEach(System.out::println);
        }
    }
}
